Version 4
SHEET 1 2044 984
WIRE 352 -128 128 -128
WIRE 128 -48 128 -128
WIRE 160 -48 128 -48
WIRE 352 -48 352 -128
WIRE 464 -48 352 -48
WIRE 560 -48 464 -48
WIRE 272 -32 224 -32
WIRE 352 -32 352 -48
WIRE 352 -32 336 -32
WIRE 160 -16 48 -16
WIRE 464 -16 464 -48
WIRE 560 0 560 -48
WIRE 48 64 48 -16
WIRE 48 176 48 144
WIRE 288 336 64 336
WIRE 960 336 736 336
WIRE 1760 336 1536 336
WIRE 64 416 64 336
WIRE 96 416 64 416
WIRE 288 416 288 336
WIRE 400 416 288 416
WIRE 496 416 480 416
WIRE 736 416 736 336
WIRE 768 416 736 416
WIRE 960 416 960 336
WIRE 1120 416 960 416
WIRE 1168 416 1120 416
WIRE 1536 416 1536 336
WIRE 1568 416 1536 416
WIRE 1760 416 1760 336
WIRE 1792 416 1760 416
WIRE 1920 416 1872 416
WIRE 1968 416 1920 416
WIRE 288 432 288 416
WIRE 288 432 160 432
WIRE 960 432 960 416
WIRE 960 432 832 432
WIRE 1760 432 1760 416
WIRE 1760 432 1632 432
WIRE 0 448 -16 448
WIRE 80 448 64 448
WIRE 96 448 80 448
WIRE 672 448 656 448
WIRE 752 448 736 448
WIRE 768 448 752 448
WIRE 1472 448 1456 448
WIRE 1552 448 1536 448
WIRE 1568 448 1552 448
WIRE 496 464 496 416
WIRE 1168 464 1168 416
WIRE 1968 464 1968 416
WIRE -16 528 -16 448
WIRE 656 528 656 448
WIRE 1456 528 1456 448
WIRE -16 640 -16 608
WIRE 656 640 656 608
WIRE 1456 640 1456 608
FLAG 48 176 0
FLAG 560 64 0
FLAG 464 64 0
FLAG -16 640 0
FLAG 496 528 0
FLAG 80 528 0
FLAG 656 640 0
FLAG 1168 528 0
FLAG 752 528 0
FLAG 1120 496 0
FLAG 848 320 C3
FLAG 160 320 C2
FLAG 256 -144 C1
FLAG 1456 640 0
FLAG 1968 528 0
FLAG 1552 528 0
FLAG 1920 496 0
FLAG 1648 320 C4
SYMBOL voltage 48 48 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 5 1)
SYMBOL OpAmps\\UniversalOpAmp 192 -32 R0
SYMATTR InstName U1
SYMBOL cap 544 0 R0
SYMATTR InstName C1
SYMATTR Value 1milli
SYMBOL res 448 -32 R0
SYMATTR InstName R1
SYMATTR Value 1Meg
SYMBOL diode 272 -16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value MyIdealDiode
SYMBOL voltage -16 512 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value SINE(0 5 1)
SYMBOL OpAmps\\UniversalOpAmp 128 432 R0
SYMATTR InstName U2
SYMBOL cap 480 464 R0
SYMATTR InstName C2
SYMATTR Value 1milli
SYMBOL diode 0 464 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value MyIdealDiode
SYMBOL res 496 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10e+6
SYMBOL res 64 432 R0
SYMATTR InstName R3
SYMATTR Value 10e+3
SYMBOL voltage 656 512 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(0 5 1)
SYMBOL OpAmps\\UniversalOpAmp 800 432 R0
SYMATTR InstName U3
SYMBOL cap 1152 464 R0
SYMATTR InstName C3
SYMATTR Value 1milli
SYMBOL diode 672 464 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value MyIdealDiode
SYMBOL res 1136 512 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 10e-12
SYMBOL res 736 432 R0
SYMATTR InstName R5
SYMATTR Value 10e+3
SYMBOL voltage 1456 512 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(0 5 1)
SYMBOL OpAmps\\UniversalOpAmp 1600 432 R0
SYMATTR InstName U4
SYMBOL cap 1952 464 R0
SYMATTR InstName C4
SYMATTR Value 1milli
SYMBOL diode 1472 464 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value MyIdealDiode
SYMBOL res 1936 512 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 10e+3
SYMBOL res 1536 432 R0
SYMATTR InstName R7
SYMATTR Value 10e+3
SYMBOL res 1888 400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 10e+3
TEXT 16 200 Left 2 !.tran 5
TEXT -48 264 Left 2 !.model MyIdealDiode D(Roff=1T Ron=0 Vfwd=0.7)
TEXT -136 712 Left 2 ;Nel circuito C3 la costante di tempo e' nulla per ogni valore di r4 perche' la resistenza equivalente e' il parallelo tra r4 e l'impedenza d'uscita dell'opamp. Quest'ultima e' nulla.\nIl circuito C3 puo' solo spianare le gobbe negative.
TEXT -136 784 Left 2 ;Nel circuito C2 la costante di tempo e' r2*c2. Il condensatore si carica e scarica con la stessa costante.\nIl circuito C2 non e' un buon rilevatore di picco perche' la carica e' troppo lenta.\nNon e' detto che si arrivi al picco perche' poi c2 si scarica e dunque per arrivare al picco\ne rilevarlo dovrei avere sicuramente un tempo di carica inferiore a quello di scarica.
TEXT -136 912 Left 2 ;Il circuito C1 funziona come rilevatore di picco perche' la carica e' istantanea,\nmentre la scarica evolve con la costante di tempo r1*c1 perche' durante il semiperiodo\nnegativo il diodo interdetto disaccoppia il circuito RC dal resto della rete.
