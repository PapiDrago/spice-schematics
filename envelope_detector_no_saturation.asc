Version 4
SHEET 1 1036 724
WIRE 48 -48 -144 -48
WIRE 160 -48 112 -48
WIRE 240 -32 240 -48
WIRE -144 32 -144 -48
WIRE 48 32 -144 32
WIRE 160 32 160 -48
WIRE 160 32 112 32
WIRE 240 80 240 48
WIRE 384 96 384 16
WIRE 704 96 384 96
WIRE -144 112 -144 32
WIRE -80 112 -144 112
WIRE 160 128 160 32
WIRE 160 128 -16 128
WIRE 224 128 160 128
WIRE 400 128 304 128
WIRE 544 128 400 128
WIRE -80 144 -224 144
WIRE -224 192 -224 144
WIRE 32 192 -224 192
WIRE 288 272 288 176
WIRE 704 272 704 96
WIRE 704 272 288 272
WIRE 288 336 288 272
WIRE 400 336 288 336
WIRE 352 432 160 432
WIRE 160 512 160 432
WIRE 176 512 160 512
WIRE 400 512 400 336
WIRE 400 512 336 512
WIRE 176 560 32 416
WIRE 352 560 352 432
WIRE 256 640 256 608
FLAG 400 208 0
FLAG 544 192 0
FLAG -224 272 0
FLAG -112 224 0
FLAG 384 704 0
FLAG 256 640 0
FLAG 240 -48 0
FLAG 288 80 0
SYMBOL OpAmps\\UniversalOpAmp -48 128 R0
SYMATTR InstName U1
SYMBOL voltage -224 176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 5 1 1)
SYMBOL res 384 112 R0
SYMATTR InstName R1
SYMATTR Value 10e+1
SYMBOL cap 528 128 R0
SYMATTR InstName C1
SYMATTR Value 10e-3
SYMBOL diode 48 -32 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value MyIdealDiode
SYMBOL diode 112 16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value MyIdealDiode
SYMBOL diode -432 48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value MyIdealDiode
SYMBOL res -544 -48 R0
SYMATTR InstName R2
SYMATTR Value 10e+3
SYMBOL sw 320 128 R90
SYMATTR InstName S1
SYMATTR Value SW_1
SYMBOL Digital\\dflop 256 464 R0
SYMATTR InstName A1
SYMATTR Value2 Vhigh=5
SYMBOL res 368 608 R0
SYMATTR InstName R5
SYMATTR Value 10e+3
SYMBOL voltage 240 64 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(1.2 -1.2 1.26 0 0 0.750 1)
TEXT -256 296 Left 2 !.tran 6
TEXT 440 16 Left 2 !.model MyIdealDiode D(Roff=1T Ron=0 Vfwd=0.7)
TEXT 440 56 Left 2 !.Model SW_1 SW()
TEXT 128 -168 Left 2 ;switch ON = closed, V>Vt\nswitch OFF = open, V<Vt
